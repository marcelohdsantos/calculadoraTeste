{"remainingRequest":"/home/marcelo/exercicios-cod3r-web/vue/calculator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/marcelo/exercicios-cod3r-web/vue/calculator/src/main/Calculator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/marcelo/exercicios-cod3r-web/vue/calculator/src/main/Calculator.vue","mtime":1617820784262},{"path":"/home/marcelo/exercicios-cod3r-web/vue/calculator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/marcelo/exercicios-cod3r-web/vue/calculator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/marcelo/exercicios-cod3r-web/vue/calculator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/marcelo/exercicios-cod3r-web/vue/calculator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQnV0dG9uIGZyb20gIi4uL2NvbXBvbmVudHMvQnV0dG9uIgppbXBvcnQgRGlzcGxheSBmcm9tICIuLi9jb21wb25lbnRzL0Rpc3BsYXkiCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRpc3BsYXlWYWx1ZTogIjAiLAogICAgICAgICAgICBjbGVhckRpc3BsYXk6IGZhbHNlLAogICAgICAgICAgICBvcGVyYXRpb246IG51bGwsCiAgICAgICAgICAgIHZhbHVlczogWzAsIDBdLAogICAgICAgICAgICBjdXJyZW50OiAwCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsgQnV0dG9uLCBEaXNwbGF5IH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2xlYXJNZW1vcnkoKSB7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy4kZGF0YSwgdGhpcy4kb3B0aW9ucy5kYXRhKCkpCiAgICAgICAgfSwKICAgICAgICBzZXRPcGVyYXRpb24ob3BlcmF0aW9uKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uID0gb3BlcmF0aW9uCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSAxCiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRGlzcGxheSA9IHRydWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IGVxdWFscyA9IG9wZXJhdGlvbiA9PT0gIj0iCiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50T3BlcmF0aW9uID0gdGhpcy5vcGVyYXRpb24KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNbMF0gPSBldmFsKAogICAgICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLnZhbHVlc1swXX0gJHtjdXJyZW50T3BlcmF0aW9ufSAke3RoaXMudmFsdWVzWzFdfWAKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25FcnJvcicsIGUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1sxXSA9IDAKICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gdGhpcy52YWx1ZXNbMF0KICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uID0gZXF1YWxzID8gbnVsbCA6IG9wZXJhdGlvbgogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZXF1YWxzID8gMCA6IDEKICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJEaXNwbGF5ID0gIWVxdWFscwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhZGREaWdpdChuKSB7CiAgICAgICAgICAgIGlmIChuID09PSAiLiIgJiYgdGhpcy5kaXNwbGF5VmFsdWUuaW5jbHVkZXMoIi4iKSkgewogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgY2xlYXJEaXNwbGF5ID0gdGhpcy5kaXNwbGF5VmFsdWUgPT09ICIwIgogICAgICAgICAgICAgICAgfHwgdGhpcy5jbGVhckRpc3BsYXkKICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gY2xlYXJEaXNwbGF5ID8gIiIgOiB0aGlzLmRpc3BsYXlWYWx1ZQogICAgICAgICAgICBjb25zdCBkaXNwbGF5VmFsdWUgPSBjdXJyZW50VmFsdWUgKyBuCiAgICAgICAgICAgIHRoaXMuZGlzcGxheVZhbHVlID0gZGlzcGxheVZhbHVlCiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXNwbGF5ID0gZmFsc2UKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEFsdGVybmF0aXZhIDEKICAgICAgICAgICAgdGhpcy52YWx1ZXNbdGhpcy5jdXJyZW50XSA9IGRpc3BsYXlWYWx1ZQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQWx0ZXJuYXRpdmEgMgogICAgICAgICAgICAvLyBpZiAobiAhPT0gIi4iKSB7CiAgICAgICAgICAgIC8vICAgICBjb25zdCBpID0gdGhpcy5jdXJyZW50CiAgICAgICAgICAgIC8vICAgICBjb25zdCBuZXdWYWx1ZSA9IHBhcnNlRmxvYXQoZGlzcGxheVZhbHVlKQogICAgICAgICAgICAvLyAgICAgdGhpcy52YWx1ZXNbaV0gPSBuZXdWYWx1ZQogICAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgfQp9Cgo="},{"version":3,"sources":["Calculator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calculator.vue","sourceRoot":"src/main","sourcesContent":["<template>\n  <div class=\"calculator\">\n      <Display :value=\"displayValue\"/>\n      <Button label=\"AC\" triple @onClick=\"clearMemory\"/>\n      <Button label=\"/\" operation @onClick=\"setOperation\"/>\n      <Button label=\"7\" @onClick=\"addDigit\"/>\n      <Button label=\"8\" @onClick=\"addDigit\"/>\n      <Button label=\"9\" @onClick=\"addDigit\"/>\n      <Button label=\"*\" operation @onClick=\"setOperation\"/>\n      <Button label=\"4\" @onClick=\"addDigit\"/>\n      <Button label=\"5\" @onClick=\"addDigit\"/>\n      <Button label=\"6\" @onClick=\"addDigit\"/>\n      <Button label=\"-\" operation @onClick=\"setOperation\"/>\n      <Button label=\"1\" @onClick=\"addDigit\"/>\n      <Button label=\"2\" @onClick=\"addDigit\"/>\n      <Button label=\"3\" @onClick=\"addDigit\"/>\n      <Button label=\"+\" operation @onClick=\"setOperation\"/>\n      <Button label=\"0\" double @onClick=\"addDigit\"/>\n      <Button label=\".\" @onClick=\"addDigit\"/>\n      <Button label=\"=\" operation @onClick=\"setOperation\"/>\n  </div>\n</template>\n\n<script>\n\nimport Button from \"../components/Button\"\nimport Display from \"../components/Display\"\nexport default {\n    data: function() {\n        return {\n            displayValue: \"0\",\n            clearDisplay: false,\n            operation: null,\n            values: [0, 0],\n            current: 0\n        }\n    },\n    components: { Button, Display },\n    methods: {\n        clearMemory() {\n            Object.assign(this.$data, this.$options.data())\n        },\n        setOperation(operation) {\n            if (this.current === 0) {\n                this.operation = operation\n                this.current = 1\n                this.clearDisplay = true\n            } else {\n                const equals = operation === \"=\"\n                const currentOperation = this.operation\n                try {\n                    this.values[0] = eval(\n                        `${this.values[0]} ${currentOperation} ${this.values[1]}`\n                    )\n                } catch (e) {\n                    this.$emit('onError', e)\n                }\n                this.values[1] = 0\n                this.displayValue = this.values[0]\n                this.operation = equals ? null : operation\n                this.current = equals ? 0 : 1\n                this.clearDisplay = !equals\n            }\n        },\n        addDigit(n) {\n            if (n === \".\" && this.displayValue.includes(\".\")) {\n                return\n            }\n            const clearDisplay = this.displayValue === \"0\"\n                || this.clearDisplay\n            const currentValue = clearDisplay ? \"\" : this.displayValue\n            const displayValue = currentValue + n\n            this.displayValue = displayValue\n            this.clearDisplay = false\n            \n            // Alternativa 1\n            this.values[this.current] = displayValue\n            \n            // Alternativa 2\n            // if (n !== \".\") {\n            //     const i = this.current\n            //     const newValue = parseFloat(displayValue)\n            //     this.values[i] = newValue\n            // }\n        }\n    }\n}\n\n</script>\n\n<style>\n    .calculator {\n        height: 320px;\n        width: 235px;\n        border-radius: 5px;\n        overflow: hidden;\n\n        display: grid;\n        grid-template-columns: repeat(4, 25%);\n        grid-template-rows: 1fr 48px 48px 48px 48px 48px;\n    }\n</style>"]}]}